import{d as U,u as E,a as I,b as C,r as p,c as n,o as R,e as b,f as s,w as a,g as k,h as B,E as g,p as H,i as L,j as v,_ as P}from"./index-83aa274e.js";const T=()=>{let o="",u=new Date().getHours();return u<=9?o="早上":u<=12?o="上午":u<=18?o="下午":o="晚上",o},w=o=>(H("data-v-e0e9e092"),o=o(),L(),o),j={class:"login_container"},q=w(()=>v("h1",null,"Hello",-1)),D=w(()=>v("h2",null,"欢迎来到硅谷甄选",-1)),$=U({__name:"index",setup(o){let u=E(),_=I(),h=C(),d=p(!1);const f=p(),l=p({username:"",password:""}),x=()=>{f.value.validate(async r=>{if(!r)return!1;d.value=!0;try{await u.userLogin(l.value);let e=h.query.redirect;e?_.push(e):_.push("/"),g({type:"success",message:"欢迎回来",title:`HI，${T()}好`}),d.value=!1}catch(e){g({type:"error",message:e.message}),d.value=!1}})},y={username:[{trigger:"change",validator:(r,e,t)=>{e.length>=5?t():t(new Error("账号长度至少5位"))}}],password:[{trigger:"change",validator:(r,e,t)=>{e.length>=6?t():t(new Error("密码长度至少6位"))}}]};return(r,e)=>{const t=n("el-col"),m=n("el-input"),i=n("el-form-item"),V=n("el-button"),N=n("el-form"),S=n("el-row");return R(),b("div",j,[s(S,{gutter:20},{default:a(()=>[s(t,{class:"col1",span:12,xs:0,offset:0}),s(t,{class:"col2",span:12,xs:24,offset:0},{default:a(()=>[s(N,{model:l.value,ref_key:"formRef",ref:f,rules:y},{default:a(()=>[q,D,s(i,{prop:"username"},{default:a(()=>[s(m,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=c=>l.value.username=c),placeholder:"用户名","prefix-icon":r.User},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,{prop:"password"},{default:a(()=>[s(m,{modelValue:l.value.password,"onUpdate:modelValue":e[1]||(e[1]=c=>l.value.password=c),placeholder:"密码","prefix-icon":r.Lock,"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,null,{default:a(()=>[s(V,{loading:k(d),class:"login_btn",type:"primary",onClick:x},{default:a(()=>[B(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const G=P($,[["__scopeId","data-v-e0e9e092"]]);export{G as default};
